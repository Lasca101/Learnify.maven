<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/montar_curso/style_montar_curso.css">
    <link rel="stylesheet" href="/montar_curso/style_midia_queries_montar_curso.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-blahblahblah" crossorigin="anonymous" />
    <meta name="viewport" content="width=device-width" , initial-scale="1">
    <title>Site Compras</title>

    <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">

    <!-- código inclusáo do bootstrap no site -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- fim código inclusáo do bootstrap no site -->

    <!-- código para incluir o FontAwesome no site -->
    <script src="https://kit.fontawesome.com/f2c736aaab.js" crossorigin="anonymous"></script>
    <!-- fim código para incluir o FontAwesome no site -->

    <script src="jquery-3.7.0.min.js"></script>
    <script defer src="/montar_curso/app.js"></script>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
        </script>


    <header>
      <div id="cabecalho">
            <nav class="barra-home">
                <div id="header">
                    <ul class="menu">
                        <li id="loginLi"><a href="/login" class="itens-barra-home">Login/Cadastro</a></li>
                        <li id="accountLi" style="display: none;"><a id="accountLink" href='/montar-curso'><i class="fas fa-user"></i> Monte seu Curso</a></li>
                        <li id="logoutLi" style="display: none;"><button id="logoutButton"
                                onclick="logout()">Logout</button></li>
                    </ul>
                </div>
            </nav>

            <nav class="div-logo">
                <a href="/home"><img class="logo" src="/images/logo.png" alt="logo"></a>
            </nav>
        </div>
    </header>


    <main>
        <form method="post" enctype="multipart/form-data">
            <div id="div-inserir-imagem">
                <label id="label-imagem" for="formFileLg" class="form-label">Selecione uma imagem para a homepage
                    (recomendado 700x450px)</label>
                <input class="form-control form-control-lg" id="input-imagem" type="file" name="imagem">
            </div>
            
            <button id="continuar-cadastro" type="button" class="btn btn-primary">Continuar</button>
        </form>
    </main>


    <footer>
        <nav class="redes-sociais-rodape itens-rodape">
            <h4>Redes Sociais</h4>
            <nav>
                <a class="texto-itens-rodape" href="#">
                    <i class="fa-brands fa-square-facebook fa-2xl"></i>
                    <i class="fa-brands fa-square-twitter fa-2xl"></i>
                    <i class="fa-brands fa-square-instagram fa-2xl"></i>
                </a>
            </nav>
        </nav>

        <nav class="links-rodape itens-rodape">
            <h4 class="titulo-links">Institucional</h4>
            <nav class="conteudo-itens-rodape">
                <div class="texto-itens-rodape links-politicas">
                    <a class="ancoras" href="/central-ajuda/central_ajuda.html">
                        <p>Central de <br> Ajuda</p>
                    </a>
                    <a class="ancoras" href="#">
                        <p>Termos</p>
                    </a>
                    <a class="ancoras" href="#"></a>
                    <p>Política de <br> Privacidade</p></a>
                </div>
            </nav>
        </nav>

        <div class="copyright-rodape">
            <p>© 2007-2023 learnify.com</p>
        </div>
    </footer>

    <script>
        document.getElementById('continuar-cadastro').addEventListener('click', function () {
            const inputFile = document.getElementById('input-imagem');
            const selectedFile = inputFile.files[0]; // Obtem o primeiro arquivo selecionado

            if (selectedFile) {
                const formData = new FormData();
                formData.append('img', selectedFile);

                fetch('/montar-curso', {
                    method: 'POST', // Use o método POST para enviar o arquivo
                    body: formData,
                })
                .then(response => response.text())
                .then(data => {
                    // Lidar com a resposta do servidor, se necessário
                    console.log(data);
                })
                .catch(error => console.error(error));
            }
        });
    </script>

    <script>
        $(document).ready(function () {
            $('#div-tutorial').hide();

            $(document).on('click', '.botao-como-pegar-link', function () {
                $('#div-tutorial').show();
            });

            $(document).on('click', '.botao-como-pegar-link', function () {
                $('#div-tutorial').animate({ width: "100%", height: "100%" });
            });

            $(document).on('click', '#close-tutorial', function () {
                $('#div-tutorial').animate({ width: "100%", height: "0" });
            });


            $('#div-inserir-img-link').hide();
            $('#div-botao-finalizar').hide();
        });
    </script>

    <script>
        // Verificar se o usuário está logado
        if (localStorage.getItem("isLoggedIn") === "true") {
            // Usuário está logado, atualizar cabeçalho para "Monte seu Curso"
            var loginLi = document.getElementById("loginLi");
            loginLi.style.display = "none";

            var accountLi = document.getElementById("accountLi");
            accountLi.style.display = "block";

            var accountLink = document.getElementById("accountLink");
            accountLink.innerHTML = '<i class="fas fa-user"></i> Monte seu Curso';
            accountLink.href = "/pagina-montar-curso/montar_curso.html";

            var logoutLi = document.getElementById("logoutLi");
            logoutLi.style.display = "block";
        }

        // Função de logout
        function logout() {
            // Limpar indicador de login no LocalStorage
            localStorage.removeItem("isLoggedIn");

            // Redirecionar para a página de login
            window.location.href = "../login/login.html";
        }
    </script>

</body>

</html>